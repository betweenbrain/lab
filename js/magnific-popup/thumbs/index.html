<!DOCTYPE html>
<html>
<head>
	<title></title>
	<!-- Magnific Popup core CSS file -->
	<link rel="stylesheet" href="../magnific-popup.css">

	<!-- jQuery 1.7.2+ or Zepto.js 1.0+ -->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>

	<!-- Magnific Popup core JS file -->
	<script src="../jquery.magnific-popup.js"></script>

	<script>
		(function ($) {
			$().ready(function () {
				$('.popup').magnificPopup({
					type     : 'ajax',
					gallery  : {
						enabled: true
					},
					callbacks: {
						change: function () {
							var $width = $(window).width(),
									$height = $(window).height();
							console.log($width + ' ' + $height);
						},
						parseAjax: function (mfpResponse) {
							var $height = $(window).height() * 0.9;
							mfpResponse.data =  mfpResponse.data + '<style>.mfp-content img{max-height:' + $height + 'px;}</style>';
						},
						resize: function () {
							console.log('Resized', $.magnificPopup.instance.content);
						}
					}
				});
			});

			function setStyle(){
				var $height = $(window).height() * 0.9;
				alert($height);
			}


		}(jQuery));
	</script>
	<style>
		.thumb {
			width : 100px
		}
	</style>
</head>
<body>
<ul>
	<li>
		<a class="popup mfp-image" href="//betweenbrain.com/images/grass/grass4.jpg">
			<img class="thumb" src="http://betweenbrain.com/images/grass/grass4.jpg" />
		</a>
	</li>
	<li>
		<a class="popup" href="slide1.html">Open popup</a>
	</li>
	<li>
		<a class="popup" href="slide2.html">Open popup</a>
	</li>
	<li>
		<a class="popup" href="slide3.html">Open popup</a>
	</li>
</ul>
</body>
</html>